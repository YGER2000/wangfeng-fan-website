# ğŸš€ éƒ¨ç½²æŒ‡å— - Git + SCP æ··åˆæ–¹æ¡ˆ

## ğŸ“‹ ç›®å½•
1. [åˆå§‹éƒ¨ç½²](#åˆå§‹éƒ¨ç½²)
2. [åç»­æ›´æ–°](#åç»­æ›´æ–°)
3. [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)

---

## åˆå§‹éƒ¨ç½²

### å‰ææ¡ä»¶
- âœ… GitHub/GitLab ä»“åº“å·²åˆ›å»ºå¹¶æ¨é€ä»£ç 
- âœ… äº‘æœåŠ¡å™¨å·²åˆ›å»ºï¼ˆ47.111.177.153ï¼‰
- âœ… çŸ¥é“æœåŠ¡å™¨ root å¯†ç æˆ–æœ‰ SSH å¯†é’¥
- âœ… æœ¬åœ°é¡¹ç›®åœ¨ `/Users/yger/WithFaith/wangfeng-fan-website/`

### æ­¥éª¤ 1ï¼šåœ¨æœåŠ¡å™¨ä¸Šåˆå§‹åŒ–é¡¹ç›®

```bash
# ç™»å½•æœåŠ¡å™¨
ssh root@47.111.177.153

# è¿›å…¥éƒ¨ç½²ç›®å½•
cd /opt

# å…‹éš†é¡¹ç›®ï¼ˆä»…åŒ…å«ä»£ç ï¼Œpublic/ è¢« .gitignore å¿½ç•¥ï¼‰
git clone https://github.com/ä½ çš„ç”¨æˆ·å/wangfeng-fan-website.git
cd wangfeng-fan-website

# ç¡®è®¤é¡¹ç›®å…‹éš†æˆåŠŸ
ls -la
# è¾“å‡ºåº”è¯¥åŒ…å«: frontend, backend, docs, .git ç­‰ç›®å½•
```

> **æ³¨æ„**ï¼šå¦‚æœå…‹éš†å¤±è´¥ï¼Œå¯èƒ½æ˜¯å› ä¸ºä»“åº“è¿˜æ²¡æ¨é€åˆ° GitHubã€‚

### æ­¥éª¤ 2ï¼šä»æœ¬åœ°ä¸Šä¼  public èµ„æº

åœ¨ä½ çš„ **æœ¬åœ° Mac** ä¸Šæ‰§è¡Œï¼š

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /Users/yger/WithFaith/wangfeng-fan-website

# ä¸Šä¼  public ç›®å½•ï¼ˆåŒ…å« music/, images/, data/ï¼‰
scp -r frontend/public root@47.111.177.153:/opt/wangfeng-fan-website/frontend/
```

**è¾“å…¥æœåŠ¡å™¨å¯†ç åå¼€å§‹ä¸Šä¼ ã€‚**

è¿™ä¼šèŠ±è´¹ä¸€äº›æ—¶é—´ï¼ˆ10GB å¯èƒ½éœ€è¦ 30 åˆ†é’Ÿåˆ°å‡ å°æ—¶ï¼Œå–å†³äºç½‘ç»œï¼‰ã€‚

### æ­¥éª¤ 3ï¼šéªŒè¯éƒ¨ç½²

åœ¨æœåŠ¡å™¨ä¸Šæ£€æŸ¥ï¼š

```bash
# æ£€æŸ¥é¡¹ç›®ç»“æ„
ls -la /opt/wangfeng-fan-website/

# æ£€æŸ¥ public æ˜¯å¦å·²ä¸Šä¼ 
ls -la /opt/wangfeng-fan-website/frontend/public/

# æ£€æŸ¥éŸ³ä¹æ–‡ä»¶
ls /opt/wangfeng-fan-website/frontend/public/music/ | wc -l
# è¾“å‡ºåº”è¯¥æ¥è¿‘ 200ï¼ˆä½ çš„æ­Œæ›²æ•°ï¼‰

# æ£€æŸ¥æ€»å¤§å°
du -sh /opt/wangfeng-fan-website/frontend/public/
# è¾“å‡ºåº”è¯¥æ¥è¿‘ 10GB
```

---

## åç»­æ›´æ–°

### åœºæ™¯ 1ï¼šåªæ›´æ–°ä»£ç ï¼ˆæœ€å¸¸è§ï¼‰

å½“ä½ ä¿®æ”¹äº†ä»£ç ï¼ˆHTMLã€CSSã€JSã€Pythonï¼‰ï¼Œæ¨é€åˆ° GitHub åï¼š

```bash
# åœ¨æœåŠ¡å™¨ä¸Š
ssh root@47.111.177.153

cd /opt/wangfeng-fan-website

# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# å¦‚æœéœ€è¦ï¼Œé‡å¯åç«¯æœåŠ¡
# (å…·ä½“æ­¥éª¤å–å†³äºä½ çš„å¯åŠ¨æ–¹å¼)
```

### åœºæ™¯ 2ï¼šæ›´æ–° public èµ„æº

å½“ä½ æ–°å¢æˆ–ä¿®æ”¹äº†éŸ³ä¹ã€å›¾ç‰‡ç­‰èµ„æºï¼š

```bash
# åœ¨æœ¬åœ° Mac ä¸Š
cd /Users/yger/WithFaith/wangfeng-fan-website

# ä¸Šä¼ æ›´æ–°çš„ public ç›®å½•
scp -r frontend/public root@47.111.177.153:/opt/wangfeng-fan-website/frontend/
```

### åœºæ™¯ 3ï¼šåŒæ—¶æ›´æ–°ä»£ç å’Œèµ„æº

```bash
# æ­¥éª¤ 1ï¼šæ¨é€ä»£ç åˆ° GitHub
git add .
git commit -m "æ›´æ–°ä»£ç å’Œèµ„æº"
git push origin main

# æ­¥éª¤ 2ï¼šåœ¨æœ¬åœ°ä¸Šä¼ å¤§æ–‡ä»¶
scp -r frontend/public root@47.111.177.153:/opt/wangfeng-fan-website/frontend/

# æ­¥éª¤ 3ï¼šåœ¨æœåŠ¡å™¨ä¸Šæ‹‰å–ä»£ç 
ssh root@47.111.177.153
cd /opt/wangfeng-fan-website
git pull origin main
```

### ä½¿ç”¨è‡ªåŠ¨åŒ–è„šæœ¬

å¦‚æœè§‰å¾—å‘½ä»¤å¤ªå¤æ‚ï¼Œå¯ä»¥ç”¨æä¾›çš„è„šæœ¬ï¼š

```bash
# åœ¨æœ¬åœ°é¡¹ç›®æ ¹ç›®å½•
./deploy.sh

# æŒ‰èœå•é€‰æ‹©è¦æ‰§è¡Œçš„æ“ä½œ
```

---

## æ•…éšœæ’é™¤

### Q1ï¼šscp ä¸Šä¼ æ—¶å‡ºç° "Permission denied"

**åŸå› **ï¼šå¯†ç é”™è¯¯æˆ–æœåŠ¡å™¨ä¸å…è®¸å¯†ç ç™»å½•

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®è®¤å¯†ç æ­£ç¡®ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰
2. å°è¯•ç”¨ SSH å¯†é’¥ï¼š
   ```bash
   scp -i ~/.ssh/id_rsa -r frontend/public root@47.111.177.153:/opt/wangfeng-fan-website/frontend/
   ```

### Q2ï¼šä¸Šä¼ é€Ÿåº¦å¾ˆæ…¢

**åŸå› **ï¼šç½‘ç»œå¸¦å®½ä¸è¶³æˆ–æ–‡ä»¶å¤ªå¤§

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥ç½‘ç»œé€Ÿåº¦ï¼š`speedtest` æˆ– `ping 47.111.177.153`
2. åˆ†å¤šæ¬¡ä¸Šä¼ ï¼š
   ```bash
   scp -r frontend/public/music root@47.111.177.153:/opt/wangfeng-fan-website/frontend/public/
   scp -r frontend/public/images root@47.111.177.153:/opt/wangfeng-fan-website/frontend/public/
   ```

### Q3ï¼šgit clone æ—¶å‡ºç° "Permission denied"

**åŸå› **ï¼šGitHub è®¤è¯å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ä½¿ç”¨ HTTPS è€Œä¸æ˜¯ SSHï¼š
   ```bash
   git clone https://github.com/ç”¨æˆ·å/wangfeng-fan-website.git
   ```
2. æˆ–é…ç½® SSH å¯†é’¥

### Q4ï¼šæ‹‰å–ä»£ç åæŸäº›æ–‡ä»¶ä¸è§äº†

**åŸå› **ï¼šè¿™äº›æ–‡ä»¶è¢« `.gitignore` å¿½ç•¥äº†ï¼ˆæ¯”å¦‚ `public/`, `.env`ï¼‰

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. åˆ›å»º `.env` æ–‡ä»¶
2. æ‰‹åŠ¨ä¸Šä¼  `public/` ç›®å½•
3. æ£€æŸ¥ `.gitignore` ä¸­æ˜¯å¦æœ‰å¿…è¦çš„æ–‡ä»¶

---

## ğŸ“Œ å·¥ä½œæµç¨‹æ€»ç»“

```
å¼€å‘æœ¬åœ°ä»£ç 
    â†“
ä¿®æ”¹æ–‡ä»¶ + æ–°å¢ public èµ„æº
    â†“
git push origin main (æ¨é€ä»£ç )
    â†“
scp ... (ä¸Šä¼ å¤§æ–‡ä»¶)
    â†“
ssh ... && git pull (æœåŠ¡å™¨æ‹‰å–ä»£ç )
    â†“
éªŒè¯éƒ¨ç½²æˆåŠŸ
```

---

## ğŸ” å®‰å…¨å»ºè®®

1. **ä¸è¦åœ¨ git ä¸­æäº¤æ•æ„Ÿä¿¡æ¯**ï¼ˆ.env æ–‡ä»¶åº”è¯¥åœ¨ `.gitignore` ä¸­ï¼‰
2. **å®šæœŸå¤‡ä»½æœåŠ¡å™¨æ•°æ®**
3. **é…ç½® SSH å¯†é’¥è®¤è¯**ï¼Œç¦ç”¨å¯†ç ç™»å½•
4. **ä½¿ç”¨é˜²ç«å¢™**é™åˆ¶å¯¹æœåŠ¡å™¨çš„è®¿é—®

---

## ğŸ¯ ä¸‹ä¸€æ­¥

- [ ] æ¨é€ä»£ç åˆ° GitHub
- [ ] é…ç½® MySQL æ•°æ®åº“
- [ ] é…ç½® Nginx åå‘ä»£ç†
- [ ] é…ç½® SSL è¯ä¹¦ï¼ˆHTTPSï¼‰
- [ ] å¯åŠ¨åç«¯å’Œå‰ç«¯æœåŠ¡

