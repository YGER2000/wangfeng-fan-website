export default {
  kind: 'collectionType',
  collectionName: 'review_logs',
  displayName: 'Review Log',
  singularName: 'review-log',
  pluralName: 'review-logs',
  description: '审核操作日志',
  attributes: {
    // 内容信息
    contentType: {
      type: 'string',
      required: true,
      maxLength: 100,
      description: 'article | video | photo-group | schedule',
    },
    contentId: {
      type: 'integer',
      required: true,
    },
    contentTitle: {
      type: 'string',
      maxLength: 255,
    },

    // 操作信息
    action: {
      type: 'enumeration',
      enum: ['submit', 'approve', 'reject', 'edit', 'delete', 'publish'],
      required: true,
    },

    // 操作人
    actor: {
      type: 'relation',
      relation: 'manyToOne',
      target: 'plugin::users-permissions.user',
      inversedBy: 'reviewLogs',
    },

    // 操作详情
    remarks: {
      type: 'text',
      maxLength: 1000,
    },
    oldState: {
      type: 'string',
      maxLength: 50,
    },
    newState: {
      type: 'string',
      maxLength: 50,
    },

    // 时间戳（自动）
    createdAt: {
      type: 'datetime',
      createdAt: true,
    },
  },
};
