# 🔐 角色权限细化方案

## 👥 角色定义

### ADMIN (管理员)
- **审核中心**:
  - ✅ 查看待审核的文章/视频/图片
  - ✅ 编辑待审核内容 (修正不规范的输入)
  - ✅ 批准发布
  - ✅ 拒绝并说明原因

- **管理中心**:
  - ✅ 查看所有已发布的内容
  - ✅ 编辑已发布的内容 (更新/微调)
  - ✅ 搜索、筛选、排序
  - ❌ **不能删除** (只有SUPER_ADMIN可删除)

### SUPER_ADMIN (超级管理员)
- **所有权限** (ADMIN的所有权限 + 额外权限):
  - ✅ 所有ADMIN的权限
  - ✅ **可以删除任何内容**
  - ✅ 用户管理
  - ✅ 系统设置

---

## 📊 权限矩阵

| 操作 | ADMIN | SUPER_ADMIN |
|------|-------|------------|
| **审核中心** |  |  |
| 查看待审核 | ✅ | ✅ |
| 编辑待审核 | ✅ | ✅ |
| 批准发布 | ✅ | ✅ |
| 拒绝 | ✅ | ✅ |
|  |  |  |
| **管理中心** |  |  |
| 查看所有内容 | ✅ | ✅ |
| 编辑已发布 | ✅ | ✅ |
| 删除内容 | ❌ | ✅ |
| 搜索/筛选/排序 | ✅ | ✅ |

---

## 🏗️ 实现计划

### Phase 1: 文章审核和管理中心

#### 1.1 创建审核列表 (ReviewArticleList.tsx)
```
显示: 所有 pending 状态的文章
功能:
  - 列表显示待审核的文章
  - 可以搜索、筛选
  - 点击进入编辑页面
  - 编辑完后可以批准或拒绝
```

#### 1.2 创建管理列表 (ManageArticleList.tsx)
```
显示: 所有已发布的文章
功能:
  - 列表显示所有已发布的文章
  - 搜索、筛选、排序
  - 点击进入编辑页面
  - 编辑完后保存更改
  - 只有SUPER_ADMIN可以删除按钮
```

#### 1.3 改进编辑页面 (ArticleEdit.tsx)
```
添加模式识别:
  - isReview=true: 审核模式 (批准/拒绝)
  - isManage=true: 管理模式 (保存/删除[仅SUPER_ADMIN])
  - 默认: 用户编辑自己的文章 (保存/提交审核)
```

### Phase 2: 视频审核和管理中心
- ReviewVideoList.tsx
- ManageVideoList.tsx
- VideoEdit.tsx 改进

### Phase 3: 图片审核和管理中心
- ReviewGalleryList.tsx
- ManageGalleryList.tsx
- GalleryEdit.tsx 改进

---

## 📝 实现顺序

1. **创建 ReviewArticleList.tsx** (文章审核列表)
2. **创建 ManageArticleList.tsx** (文章管理列表)
3. **改进 ArticleEdit.tsx** (支持三种模式)
4. **更新路由** (在App.tsx中添加新路由)
5. **更新菜单** (在NewAdminLayout.tsx中添加菜单项)
6. **为视频创建相同文件**
7. **为图片创建相同文件**
8. **测试和验证**

---

开始实现吗？
