# å†…å®¹çŠ¶æ€ç®¡ç†å’Œç¼–è¾‘å™¨é€»è¾‘è®¾è®¡

## ğŸ“Š çŠ¶æ€å®šä¹‰

### å†…å®¹çŠ¶æ€ (review_status)
- `draft` - è‰ç¨¿ï¼ˆæœªæäº¤å®¡æ ¸ï¼‰
- `pending` - å¾…å®¡æ ¸ï¼ˆå·²æäº¤ç­‰å¾…å®¡æ ¸ï¼‰
- `rejected` - å·²é©³å›ï¼ˆå®¡æ ¸æœªé€šè¿‡ï¼‰
- `approved` - å·²å‘å¸ƒï¼ˆå®¡æ ¸é€šè¿‡å¹¶å‘å¸ƒï¼‰

---

## ğŸ“‹ æ“ä½œçŸ©é˜µ

### ä¸€ã€æˆ‘çš„XXç•Œé¢ï¼ˆç”¨æˆ·è§†è§’ï¼‰

#### 1. æ–°å»ºå†…å®¹
- **å…¥å£**: ç‚¹å‡»"æ–°å»º"æŒ‰é’®
- **ç¼–è¾‘å™¨æ¨¡å¼**: `mode='create'`, `contentStatus=undefined`
- **æ­¥éª¤3æŒ‰é’®**:
  - `[æš‚å­˜è‰ç¨¿]` - ä¿å­˜ä¸ºè‰ç¨¿çŠ¶æ€
  - `[æäº¤å®¡æ ¸]` - ä¿å­˜å¹¶æäº¤å®¡æ ¸ï¼ˆçŠ¶æ€å˜ä¸º pendingï¼‰

#### 2. ç¼–è¾‘è‰ç¨¿ (draft)
- **å…¥å£**: æˆ‘çš„XXåˆ—è¡¨ â†’ ç¼–è¾‘è‰ç¨¿
- **ç¼–è¾‘å™¨æ¨¡å¼**: `mode='edit'`, `contentStatus='draft'`
- **æ­¥éª¤3æŒ‰é’®**:
  - `[åˆ é™¤XX]` - åˆ é™¤è‰ç¨¿
  - `[æš‚å­˜è‰ç¨¿]` - ç»§ç»­ä¿å­˜ä¸ºè‰ç¨¿
  - `[æäº¤å®¡æ ¸]` - æäº¤å®¡æ ¸ï¼ˆçŠ¶æ€å˜ä¸º pendingï¼‰

#### 3. ç¼–è¾‘å·²é©³å›å†…å®¹ (rejected)
- **å…¥å£**: æˆ‘çš„XXåˆ—è¡¨ â†’ ç¼–è¾‘å·²é©³å›çš„å†…å®¹
- **ç¼–è¾‘å™¨æ¨¡å¼**: `mode='edit'`, `contentStatus='rejected'`
- **æ­¥éª¤3æŒ‰é’®**:
  - `[åˆ é™¤XX]` - åˆ é™¤
  - `[æš‚å­˜è‰ç¨¿]` - ä¿å­˜ä¸ºè‰ç¨¿ï¼ˆçŠ¶æ€å˜ä¸º draftï¼‰
  - `[æäº¤å®¡æ ¸]` - ä¿®æ”¹åé‡æ–°æäº¤å®¡æ ¸ï¼ˆçŠ¶æ€å˜ä¸º pendingï¼‰

#### 4. ç¼–è¾‘å¾…å®¡æ ¸å†…å®¹ (pending)
- **å…¥å£**: æˆ‘çš„XXåˆ—è¡¨ â†’ ç¼–è¾‘å¾…å®¡æ ¸çš„å†…å®¹
- **ç¼–è¾‘å™¨æ¨¡å¼**: `mode='edit'`, `contentStatus='pending'`, `isAdminView=false`
- **æ­¥éª¤3æŒ‰é’®**:
  - `[åˆ é™¤XX]` - åˆ é™¤
  - `[æ’¤å›å¹¶ä¿å­˜ä¸ºè‰ç¨¿]` - æ’¤å›å®¡æ ¸ï¼Œä¿å­˜ä¸ºè‰ç¨¿ï¼ˆçŠ¶æ€å˜ä¸º draftï¼‰
- **è¯´æ˜**: ç”¨æˆ·å¯ä»¥æ’¤å›è‡ªå·±æäº¤çš„å¾…å®¡æ ¸å†…å®¹

#### 5. ç¼–è¾‘å·²å‘å¸ƒå†…å®¹ (approved)
- **å…¥å£**: æˆ‘çš„XXåˆ—è¡¨ â†’ ç¼–è¾‘å·²å‘å¸ƒçš„å†…å®¹
- **ç¼–è¾‘å™¨æ¨¡å¼**: `mode='edit'`, `contentStatus='approved'`, `isAdminView=false`
- **æ­¥éª¤3æŒ‰é’®**:
  - `[åˆ é™¤XX]` - åˆ é™¤
  - `[é‡æ–°æäº¤å®¡æ ¸]` - ä¿®æ”¹åé‡æ–°æäº¤å®¡æ ¸ï¼ˆçŠ¶æ€å˜ä¸º pendingï¼‰

---

### äºŒã€ç®¡ç†ä¸­å¿ƒç•Œé¢ï¼ˆç®¡ç†å‘˜è§†è§’ï¼‰

#### 6. å®¡æ ¸å¾…å®¡æ ¸å†…å®¹ (pending)
- **å…¥å£**: ç®¡ç†ä¸­å¿ƒ â†’ å®¡æ ¸å¾…å®¡æ ¸å†…å®¹
- **ç¼–è¾‘å™¨æ¨¡å¼**: `mode='review'`, `contentStatus='pending'`
- **æ­¥éª¤3æŒ‰é’®**:
  - `[æ‹’ç»]` - é©³å›ï¼ˆçŠ¶æ€å˜ä¸º rejectedï¼Œéœ€å¡«å†™é©³å›ç†ç”±ï¼‰
  - `[æ‰¹å‡†å‘å¸ƒ]` - æ‰¹å‡†å‘å¸ƒï¼ˆçŠ¶æ€å˜ä¸º approvedï¼‰
- **æ³¨æ„**: å®¡æ ¸æ¨¡å¼ä¸‹**ä¸èƒ½åˆ é™¤**ï¼Œåªèƒ½é©³å›æˆ–æ‰¹å‡†

#### 7. ç®¡ç†ä¸­å¿ƒç¼–è¾‘å·²å‘å¸ƒå†…å®¹ (approved)
- **å…¥å£**: ç®¡ç†ä¸­å¿ƒ â†’ ç¼–è¾‘å·²å‘å¸ƒçš„å†…å®¹
- **ç¼–è¾‘å™¨æ¨¡å¼**: `mode='edit'`, `contentStatus='approved'`, `isAdminView=true`
- **æ­¥éª¤3æŒ‰é’®**:
  - `[åˆ é™¤XX]` - åˆ é™¤ï¼ˆç®¡ç†å‘˜æƒé™ï¼‰
  - `[æ›´æ–°XX]` - ç›´æ¥æ›´æ–°å·²å‘å¸ƒå†…å®¹ï¼ˆä¸æ”¹å˜çŠ¶æ€ï¼‰

---

## ğŸ¯ ç¼–è¾‘å™¨å‚æ•°è®¾è®¡

```typescript
interface EditorProps {
  mode: 'create' | 'edit' | 'review';
  contentId?: string;
  contentStatus?: 'draft' | 'pending' | 'rejected' | 'approved';
  isAdminView?: boolean; // true: ç®¡ç†ä¸­å¿ƒè§†å›¾, false: æˆ‘çš„XXè§†å›¾
}
```

---

## ğŸ”˜ æŒ‰é’®æ˜¾ç¤ºé€»è¾‘ï¼ˆæ­¥éª¤3ï¼‰

```typescript
function getStep3Buttons(mode, contentStatus, isAdminView) {
  // å®¡æ ¸æ¨¡å¼ - å¾…å®¡æ ¸å†…å®¹
  if (mode === 'review' && contentStatus === 'pending') {
    return [
      { label: 'æ‹’ç»', action: 'reject', color: 'orange' },
      { label: 'æ‰¹å‡†å‘å¸ƒ', action: 'approve', color: 'green' }
    ];
  }

  // ç®¡ç†ä¸­å¿ƒ - ç¼–è¾‘å·²å‘å¸ƒå†…å®¹
  if (isAdminView && contentStatus === 'approved') {
    return [
      { label: 'åˆ é™¤XX', action: 'delete', color: 'red' },
      { label: 'æ›´æ–°XX', action: 'update', color: 'purple' }
    ];
  }

  // æ–°å»º
  if (mode === 'create') {
    return [
      { label: 'æš‚å­˜è‰ç¨¿', action: 'saveDraft', color: 'gray' },
      { label: 'æäº¤å®¡æ ¸', action: 'submit', color: 'purple' }
    ];
  }

  // è‰ç¨¿ã€å·²é©³å›
  if (contentStatus === 'draft' || contentStatus === 'rejected') {
    return [
      { label: 'åˆ é™¤XX', action: 'delete', color: 'red' },
      { label: 'æš‚å­˜è‰ç¨¿', action: 'saveDraft', color: 'gray' },
      { label: 'æäº¤å®¡æ ¸', action: 'submit', color: 'purple' }
    ];
  }

  // æˆ‘çš„XX - ç¼–è¾‘å¾…å®¡æ ¸å†…å®¹
  if (!isAdminView && contentStatus === 'pending') {
    return [
      { label: 'åˆ é™¤XX', action: 'delete', color: 'red' },
      { label: 'æ’¤å›å¹¶ä¿å­˜ä¸ºè‰ç¨¿', action: 'withdrawToDraft', color: 'gray' }
    ];
  }

  // æˆ‘çš„XX - ç¼–è¾‘å·²å‘å¸ƒå†…å®¹
  if (!isAdminView && contentStatus === 'approved') {
    return [
      { label: 'åˆ é™¤XX', action: 'delete', color: 'red' },
      { label: 'é‡æ–°æäº¤å®¡æ ¸', action: 'resubmit', color: 'blue' }
    ];
  }
}
```

---

## ğŸ”„ çŠ¶æ€è½¬æ¢å›¾

```
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚  æ–°å»º   â”‚
          â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
               â”‚ æäº¤å®¡æ ¸
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         draft (è‰ç¨¿)        â”‚
â”‚  â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”˜
   â”‚ æäº¤å®¡æ ¸              â”‚ æ’¤å›/æš‚å­˜
   â–¼                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  pending (å¾…å®¡æ ¸)  â”‚â”€â”€â”€â”€â”˜
â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
   â”‚ æ‰¹å‡†     â”‚ é©³å›
   â–¼          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ approved â”‚ â”‚ rejected      â”‚
â”‚ (å·²å‘å¸ƒ) â”‚ â”‚ (å·²é©³å›)      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚              â”‚
       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ é‡æ–°æäº¤å®¡æ ¸
              â–¼
          pending
```

---

## ğŸ“ å®ç°æ¸…å•

### æ–‡ä»¶ä¿®æ”¹æ¸…å•
1. âœ… `ArticleEditor.tsx` - æ–‡ç« ç¼–è¾‘å™¨
2. âœ… `VideoReviewEditor.tsx` - è§†é¢‘ç¼–è¾‘å™¨
3. âœ… `GalleryEditor.tsx` - å›¾ç‰‡ç¼–è¾‘å™¨

### å…³é”®ä¿®æ”¹ç‚¹
1. æ·»åŠ  `contentStatus` å’Œ `isAdminView` props
2. æ ¹æ®çŠ¶æ€å’Œè§†å›¾åŠ¨æ€ç”Ÿæˆæ­¥éª¤3æŒ‰é’®
3. å®ç°å„ç§ä¿å­˜/æäº¤/æ’¤å›/é©³å›/æ‰¹å‡†æ“ä½œ
4. ç»Ÿä¸€ä¸‰ä¸ªç¼–è¾‘å™¨çš„é€»è¾‘å’ŒUI

---

## ğŸ¨ UIä¸€è‡´æ€§

### æŒ‰é’®é¢œè‰²è§„èŒƒ
- **åˆ é™¤**: çº¢è‰²è¾¹æ¡† (`border-red-500 text-red-500`)
- **æš‚å­˜/æ’¤å›**: ç°è‰²è¾¹æ¡† (`border-gray-400 text-gray-700`)
- **æäº¤/é‡æ–°æäº¤**: è“è‰²èƒŒæ™¯ (`bg-blue-600`)
- **æ›´æ–°**: ç´«è‰²èƒŒæ™¯ (`bg-wangfeng-purple`)
- **æ‰¹å‡†**: ç»¿è‰²èƒŒæ™¯ (`bg-green-600`)
- **æ‹’ç»**: æ©™è‰²è¾¹æ¡† (`border-orange-500 text-orange-500`)

### æŒ‰é’®é¡ºåºï¼ˆä»å·¦åˆ°å³ï¼‰
1. **ä¸Šä¸€æ­¥** (ç°è‰²ï¼Œå›ºå®šåœ¨å·¦ä¾§)
2. **åˆ é™¤/æ‹’ç»** (å±é™©æ“ä½œï¼Œçº¢è‰²/æ©™è‰²)
3. **æš‚å­˜/æ’¤å›** (æ¬¡è¦æ“ä½œï¼Œç°è‰²)
4. **ä¸»è¦æ“ä½œ** (æäº¤/æ›´æ–°/æ‰¹å‡†ï¼Œç´«è‰²/è“è‰²/ç»¿è‰²)
